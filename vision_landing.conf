### Config file for vision_landing

[Defaults]

############
# Required #
############
## Connect to flight controller over SERIAL
## Common Pixhawk-on-USB device on Jetson: /dev/ttyACM0 (baud 921600 or 57600)
#connect=/dev/ttyACM0,921600
# If your board enumerates as USB serial:
connect=/dev/ttyUSB0,921600
# If using the Nano's UART on the 40-pin header:
#connect=/dev/ttyTHS1,921600

## Marker edge size in METERS (set this to your printed tagâ€™s actual edge length!)
markersize=0.2121

## Camera calibration YAML (must match the resolution below)
calibration=/home/hugo/Desktop/Vision/vision-landing-2/calibration/imx219-640x480.yml

############
# Optional #
############
## If you use a multi-size pad, map specific IDs to their sizes; otherwise leave this commented.
sizemapping=4:0.2121,3:0.10605,2:0.05302,1:0.02651

## Dictionary (change only if you printed a different family)
#markerdict=tagStandard41h12

## Lock to a single marker ID (optional)
# markerid=12

## Video geometry (must match your calibration file)
width=640
height=480
fps=30

markerhistory=30
markerthreshold=80

## Verbose output (0/1)
verbose=False

## Output sink
## Local preview window (simple & low-CPU):
output=appsrc is-live=true do-timestamp=true format=time caps=video/x-raw,format=BGR,width=640,height=480,framerate=30/1 ! videoconvert ! xvimagesink sync=false

## Input (IMX219 CSI camera on Jetson)
input=nvarguscamerasrc sensor-mode=3 ! video/x-raw(memory:NVMM),width=640,height=480,framerate=30/1 ! nvvidconv flip-method=0 ! video/x-raw,format=BGRx ! videoconvert ! video/x-raw,format=BGR ! appsink drop=true max-buffers=1 sync=false

### Control video processing, only turns vision processing on during landing or precision loiter
controlprocessing=False
# 0=Raw, 1=EKF (ArduPilot ACPrecLand estimator)
estimator=0   

